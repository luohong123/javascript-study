(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{282:function(t,a,_){"use strict";_.r(a);var r=_(0),e=Object(r.a)({},(function(){var t=this,a=t.$createElement,_=t._self._c||a;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h1",{attrs:{id:"第-4-章-变量、作用域和内存问题"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#第-4-章-变量、作用域和内存问题","aria-hidden":"true"}},[t._v("#")]),t._v(" 第 4 章 变量、作用域和内存问题")]),t._v(" "),_("img",{attrs:{src:""}}),t._v(" "),_("h2",{attrs:{id:"_4-1-基本类型和引用类型的值"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-基本类型和引用类型的值","aria-hidden":"true"}},[t._v("#")]),t._v(" 4.1 基本类型和引用类型的值")]),t._v(" "),_("h3",{attrs:{id:"_1、动态的属性"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1、动态的属性","aria-hidden":"true"}},[t._v("#")]),t._v(" 1、动态的属性")]),t._v(" "),_("ul",[_("li",[t._v("只能给引用类型动态的添加属性")])]),t._v(" "),_("h3",{attrs:{id:"_2、复制变量值"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2、复制变量值","aria-hidden":"true"}},[t._v("#")]),t._v(" 2、复制变量值")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("基本类型值")]),t._v(" "),_("pre",[_("code",[t._v("\t- 不会相互影响\n")])])]),t._v(" "),_("li",[_("p",[t._v("引用类型值")]),t._v(" "),_("pre",[_("code",[t._v("\t- 指针指向同一个堆内存空间\n")])])])]),t._v(" "),_("h3",{attrs:{id:"_3、传递参数"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3、传递参数","aria-hidden":"true"}},[t._v("#")]),t._v(" 3、传递参数")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("基本类型")]),t._v(" "),_("pre",[_("code",[t._v("\t- 按值传递，不相互影响\n")])])]),t._v(" "),_("li",[_("p",[t._v("引用类型")]),t._v(" "),_("pre",[_("code",[t._v("\t- 按值传递，函数内部变量的变化会反映在函数的外部\n")])])])]),t._v(" "),_("h3",{attrs:{id:"_4、检测类型"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4、检测类型","aria-hidden":"true"}},[t._v("#")]),t._v(" 4、检测类型")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("基本数据类型")]),t._v(" "),_("pre",[_("code",[t._v("\t- 使用 typeof\n\n\t\t- 检测引用类型，会返回 object, 但却不知道是什么类型的对象\n\t\t- 检测函数， 会返回 function\n\t\t- 检测正则，IE 和 Firefox 返回 object，根据规范不同 有些会返回 function\n")])])]),t._v(" "),_("li",[_("p",[t._v("引用类型")]),t._v(" "),_("pre",[_("code",[t._v("\t- 使用 instanceof\n\n\t\t- 检测基本数据类型，始终返回 false， 因为基本类型不是对象\n")])])])]),t._v(" "),_("h2",{attrs:{id:"_4-2-执行环境及作用域"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-执行环境及作用域","aria-hidden":"true"}},[t._v("#")]),t._v(" 4.2 执行环境及作用域")]),t._v(" "),_("h3",{attrs:{id:"_1、执行环境"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1、执行环境","aria-hidden":"true"}},[t._v("#")]),t._v(" 1、执行环境")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("执行环境定义了变量或函数有权访问的其他数据，决定了它们各自的行为。")])]),t._v(" "),_("li",[_("p",[t._v("每次进入一个新执行环境，都会创建一个搜索变量和函数的作用域链")])]),t._v(" "),_("li",[_("p",[t._v("类型")]),t._v(" "),_("pre",[_("code",[t._v("\t- 全局执行环境(全局环境)\n\n\t\t- 全局执行环境直到应用程序退 出——例如关闭网页或浏览器——时才会被销毁\n\t\t- 不能直接访问局部环境中的任何数据\n\n\t- 局部(函数执行环境)\n\n\t\t- 有权访问函数作用域中的变量\n\t\t- 有权访问父环境、全局环境变量\n\t\t- 有助于确认何时释放内存\n")])])])]),t._v(" "),_("h3",{attrs:{id:"_2、延长作用域链"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2、延长作用域链","aria-hidden":"true"}},[t._v("#")]),t._v(" 2、延长作用域链")]),t._v(" "),_("ul",[_("li",[t._v("有些语句可以在作用域链的前端临时增加一个变量对象，该变量对象会在代码执行后被移除")]),t._v(" "),_("li",[t._v("try-catch 语句的 catch 块")]),t._v(" "),_("li",[t._v("with 语句")])]),t._v(" "),_("h3",{attrs:{id:"_3、没有块级作用域"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3、没有块级作用域","aria-hidden":"true"}},[t._v("#")]),t._v(" 3、没有块级作用域")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("声明变量")]),t._v(" "),_("pre",[_("code",[t._v("\t- 使用 var 声明\n\n\t\t- 自动被添加到最接近到环境中\n\n\t- 不使用 var 声明\n\n\t\t- 自动被添加到全局环境\n\n\t- 注意\n\n\t\t- 初始化变量前，一定要先声明\n")])])]),t._v(" "),_("li",[_("p",[t._v("查询标识符")]),t._v(" "),_("pre",[_("code",[t._v("\t- 搜索过程从作用域链的前端开始，如果在局部环境中找到链该标识符，搜索过程停止，变量就绪，如果局部环境没有找到该变量，就沿作用域一直追溯到全局环境到变量对象\n")])])])]),t._v(" "),_("h2",{attrs:{id:"_4-3-垃圾收集"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-垃圾收集","aria-hidden":"true"}},[t._v("#")]),t._v(" 4.3 垃圾收集")]),t._v(" "),_("h3",{attrs:{id:"_1、标记清除"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1、标记清除","aria-hidden":"true"}},[t._v("#")]),t._v(" 1、标记清除")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("进入环境")]),t._v(" "),_("pre",[_("code",[t._v("\t- 当变量进入环境时，将这个变量标记为‘进入环境’\n")])])]),t._v(" "),_("li",[_("p",[t._v("离开环境")]),t._v(" "),_("pre",[_("code",[t._v("\t- 当变量离开环境时，则将其 标记为“离开环境”\n")])])])]),t._v(" "),_("h3",{attrs:{id:"_2、引用计数"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2、引用计数","aria-hidden":"true"}},[t._v("#")]),t._v(" 2、引用计数")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("引用计数的含义是跟踪记录每 个值被引用的次数")])]),t._v(" "),_("li",[_("p",[t._v("应用场景")]),t._v(" "),_("pre",[_("code",[t._v("\t- COM 对象的垃圾 收集机制\n")])])]),t._v(" "),_("li",[_("p",[t._v("注意")]),t._v(" "),_("pre",[_("code",[t._v("\t- 可能会导致循环引用，永远不会被回收\n")])])])]),t._v(" "),_("h3",{attrs:{id:"_3、性能问题"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3、性能问题","aria-hidden":"true"}},[t._v("#")]),t._v(" 3、性能问题")]),t._v(" "),_("ul",[_("li",[t._v("变量过多，垃圾收集器频繁运行，导致严重的性能问题")])]),t._v(" "),_("h3",{attrs:{id:"_4、管理内存"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4、管理内存","aria-hidden":"true"}},[t._v("#")]),t._v(" 4、管理内存")]),t._v(" "),_("ul",[_("li",[t._v("设置 null 解除引用，让值脱离执行环境，以便垃圾收集器下次运行时将其回收")])]),t._v(" "),_("h2",{attrs:{id:"_4-4-小结"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-小结","aria-hidden":"true"}},[t._v("#")]),t._v(" 4.4 小结")]),t._v(" "),_("h3",{attrs:{id:"_1、基本类型和引用类型"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1、基本类型和引用类型","aria-hidden":"true"}},[t._v("#")]),t._v(" 1、基本类型和引用类型")]),t._v(" "),_("h3",{attrs:{id:"_2、执行环境和作用域"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2、执行环境和作用域","aria-hidden":"true"}},[t._v("#")]),t._v(" 2、执行环境和作用域")]),t._v(" "),_("h3",{attrs:{id:"_3、垃圾收集"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3、垃圾收集","aria-hidden":"true"}},[t._v("#")]),t._v(" 3、垃圾收集")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("标记清除")])]),t._v(" "),_("li",[_("p",[t._v("引用计数")]),t._v(" "),_("pre",[_("code",[t._v("\t- 不推荐，会导致循环引用的问题\n")])])]),t._v(" "),_("li",[_("p",[t._v("及时解除全局对象、全局对象属性、循环引用变量的引用")])])]),t._v(" "),_("h2",{attrs:{id:"类型"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#类型","aria-hidden":"true"}},[t._v("#")]),t._v(" 类型")]),t._v(" "),_("h3",{attrs:{id:"基本数据类型"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#基本数据类型","aria-hidden":"true"}},[t._v("#")]),t._v(" 基本数据类型")]),t._v(" "),_("ul",[_("li",[t._v("string 字符串")]),t._v(" "),_("li",[t._v("number 数值")]),t._v(" "),_("li",[t._v("boolean 布尔值")]),t._v(" "),_("li",[t._v("undefined")]),t._v(" "),_("li",[t._v("null")])]),t._v(" "),_("h3",{attrs:{id:"引用类型"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#引用类型","aria-hidden":"true"}},[t._v("#")]),t._v(" 引用类型")]),t._v(" "),_("ul",[_("li",[t._v("Array 数组")]),t._v(" "),_("li",[t._v("Object 对象")]),t._v(" "),_("li",[t._v("RegExp 正则")])])])}),[],!1,null,null,null);a.default=e.exports}}]);