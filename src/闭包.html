<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title></title>
    <style>

    </style>
</head>

<body>

</body>
<script>
    //闭包
    /*
     *   闭包的概念： 函数a中有一个函数b，函数b可以访问a中定义的变量
     *    闭包的模式：函数模式的闭包，对象模式的闭包
     *    闭包的作用：缓存数据，延长作用域链
     *    闭包的优点和缺点：缓存数据
     *    闭包的应用
     */
    //函数模式的闭包：在一个函数中一个函数
    // function f1() {
    //     var num = 10;

    //     function f2() {
    //         console.log(num);
    //     }
    //     f2();
    // }
    // f1();
    // //对象模式的闭包
    // function f3() {
    //     var num = 100;
    //     var obj = {
    //         age: num
    //     }
    //     console.log(obj.age);
    // }
    // f3();
    // function f1() {
    //     var num = 10;
    //     return function () {
    //         console.log(num);
    //         return num;
    //     };
    // }
    // var ff = f1();
    // var result = ff();
    // console.log(result);
    // function f1() {
    //     var num = 10;
    //     num++;
    //     console.log(num);
    // }
    // f1(); //11
    // f1(); //11
    // f1(); //11
    // function f1() {
    //     var num = 10;
    //     return function () {
    //         num++;
    //         return num;
    //     }
    // }
    // var ff = f1(); //函数闭包，缓存数据
    // console.log(ff()); //11
    // console.log(ff()); //12
    // console.log(ff()); //13
    //闭包案例产生随机数
    function showRandom() {
        var num = parseInt(Math.random() * 10);
        console.log(num);
    }
    showRandom();
    showRandom();
    showRandom();

    function showR() {
        var num = parseInt(Math.random() * 10 + 1);
        return function () {
            console.log(num);
        }
    }
    var ff = showR();
    ff();
    ff();
    ff();
    //如果想要缓存数据，就把这个数据放在外层的函数和里层的函数的中间位置
    //闭包的作用：缓存数据,优点也是缺点，没有及时的释放。
    //局部变量是在函数中，函数使用结束后，局部变量就会被自动的释放
    //闭包后，里面的局部变量的使用作用域链就会被延长
    var name = "The Window";
var object = {
    name : "My Object",
    getName: function(){
        return this.name;
}
 };
alert(object.getName());
</script>

</html>