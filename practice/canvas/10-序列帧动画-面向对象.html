<!--
 * @Author: lh
 * @Date: 2020-06-27 10:33:34
 * @LastEditors: lh
 * @LastEditTime: 2020-06-27 16:19:50
 * @Description: 
 * @email: 3300536651@qq.com
-->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=<device-width>, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
    <script src="./js/Sprite.js"></script>
</head>

<body>
    <canvas id="canvas">您的浏览器不支持canvas,请升级浏览器</canvas>
    <button type="button" id="left">⬅️</button>
    <button type="button" id="right">➡</button>
    <button type="button" id="top">⬆️</button>
    <button type="button" id="bottom">⬇️</button>
    <div>
        <h3>面向过程</h3>
        一步一步的操作，去控制游戏的场景，第一步干什么 第二步干什么
        <h3> 面向对象</h3>
        这个小人就是对象
        属性：color width height speed
        行为：leftTurn左转 rightTurn右转

        对象就是属性和行为的封装
    </div>
    <script type="text/javascript">
        // 需改造成面向对象的写法
        (function () {
            let canvas = document.querySelector("#canvas");
            let ctx = canvas.getContext("2d");
            canvas.width = 600;
            canvas.height = 600;
            canvas.style.border = "1px solid #333";

            // 封装精灵图对象：
            // 属性 width height imgSrc speed速度 dir方向
            // 行为 render changeDir
            var s = new Sprite({
                x: 50,
                y: 50,
                w: 67,
                h: 109,
                fps: 10,
                originW: 67,
                originH: 109,
                imgSrc: './img/action2.png'

            });
            s.render(ctx);

            var btnLeft = document.getElementById('left');
            var btnRight = document.getElementById('right');
            var btnTop = document.getElementById('top');
            var btnBottom = document.getElementById('bottom');
            // 按钮点击事件
            btnLeft.onclick = function () {
                // 朝左方向
                s.changeDir('left');
            }
            btnRight.onclick = function () {
                s.changeDir('right');
            }
            btnTop.onclick = function () {
                s.changeDir('top');
            }
            btnBottom.onclick = function () {
                s.changeDir('bottom');
            }
        }());
    </script>
</body>

</html>